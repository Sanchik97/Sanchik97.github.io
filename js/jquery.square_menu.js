!function(t){var a={flyDirection:"bottom",button:"Menu",animationStyle:"vertical",closeButton:"X"};t.fn.square_menu=function(n){var e=t.extend({},a,n),s=t(this);t("body").addClass("fsm-body"),s.addClass("sm-menu sm-"+e.flyDirection+" sm-"+e.animationStyle),s.wrapInner("<div class='sm-wrapper'></div>"),s.find("nav").addClass("sm-nav").wrapInner("<div class='nav-inner'></div>"),t.fn.closeMenu=function(){t(".sm-menu").addClass("animated").removeClass("re-rotate"),t(".sm-menu .sm-close").remove(),t(".sm-menu .sm-nav:first-child .nav-inner").removeClass("animated flyInLeft"),t(".sm-menu .sm-nav:nth-child(2) .nav-inner").removeClass("animated flyInRight"),t("body").hasClass("sm-activate")&&(t(".sm-menu").find(".sm-nav").removeClass("animated"),t(".sm-menu").one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){t("body").removeClass("sm-activate").find(".sm-menu").removeClass("ff-hack")}))},t.fn.openMenu=function(){t(".sm-menu").addClass("animated").addClass("ff-hack"),t("body").hasClass("sm-activate")?s.closeMenu():(t(".sm-overlay").length<1&&t("<div class='sm-overlay'></div>").hide().prependTo("body"),t(".sm-overlay").fadeIn("fast",function(){t("body").addClass("sm-activate");var a=!1;t("body").one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(n){a||(a=!0,t(".sm-menu .sm-nav").addClass("animated"),t(".sm-menu .sm-nav").one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(n){"-webkit-transform"!=n.originalEvent.propertyName&&"transform"!=n.originalEvent.propertyName&&"-o-transform"!=n.originalEvent.propertyName&&"-moz-transform"!=n.originalEvent.propertyName||(t(".sm-menu").addClass("re-rotate"),0!=e.closeButton&&(s.prepend("<a href='#' class='sm-close'>"+e.closeButton+"</a>"),t(".sm-close").click(function(){return s.closeMenu(),!1})),t(".sm-menu .sm-nav:first-child .nav-inner").addClass("animated flyInLeft"),t(".sm-menu .sm-nav:nth-child(2) .nav-inner").addClass("animated flyInRight"),t(".sm-overlay:not(.clicked)").addClass("clicked").click(function(){s.closeMenu()}))}))})}))},0!=e.button&&t("<a href='#' class='sm-button'>"+e.button+"</a>").insertAfter(s),t(".sm-button").click(function(){return s.openMenu(),!1})}}(window.jQuery);